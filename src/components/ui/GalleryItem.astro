---
export interface Props {
  src: string;
  alt: string;
  category: 'children' | 'family' | 'social';
  width?: number;
  height?: number;
  title?: string;
}

const { src, alt, category, width = 800, height = 600, title } = Astro.props;
---

<div
  class="gallery-item masonry-item relative overflow-hidden rounded-lg shadow-lg transition-all duration-300 hover:shadow-xl hover:transform hover:-translate-y-1"
  data-category={category}
>
  <a
    href={src}
    data-pswp-width={width}
    data-pswp-height={height}
    class="block relative group pswp-item"
    title={title}
  >
    <img
      src={src}
      alt={alt}
      class="w-full h-auto block transition-opacity duration-300"
      loading="lazy"
      decoding="async"
      onload="if(!this.dataset.sized) { this.parentNode.dataset.pswpWidth = this.naturalWidth; this.parentNode.dataset.pswpHeight = this.naturalHeight; this.dataset.sized = true; }"
    />

    <div class="gallery-overlay rounded-lg">
      <div class="text-white text-center">
        <i class="fas fa-search-plus text-3xl"></i>
      </div>
    </div>
  </a>
</div>